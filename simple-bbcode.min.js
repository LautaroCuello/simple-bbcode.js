var bbcode_editor=!0,buttons_target="#bbcode-buttons",button_class="\"btn btn-primary\"",buttons_fa=!0,replaceBody=!0,text_source="#text",text_target="#textresult";window.onload=function(){replaceBody&&replaceTags("body"),null!=document.querySelector(text_source)&&null!=document.querySelector(text_target)&&bbcode_editor&&(createBBCodeEditor(),document.querySelector(text_source).oninput=function(){document.querySelector(text_target).style.display="none",document.querySelector(text_target).innerHTML=document.querySelector(text_source).value,replaceTags(text_target),document.querySelector(text_target).style.display="inherit"}),document.querySelector("body").style.display="inherit"};function replaceTags(a){reg_exp_list=[[/(\[b\])(.*)(\[\/b\])/g,"<b>$2</b>"],[/(\[u\])(.*)(\[\/u\])/g,"<u>$2</u>"],[/(\[i\])(.*)(\[\/i\])/g,"<i>$2</i>"],[/(\[s\])(.*)(\[\/s\])/g,"<s>$2</s>"],[/(\[size=([0-9]{1,2})\])(.*)(\[\/size\])/g,"<span style=\"font-size: $2pt\">$3</span>"],[/(\[align="left"\])(.*)(\[\/align\])/g,"<span style=\"text-align:left\">$2</span>"],[/(\[align="right"\])(.*)(\[\/align\])/g,"<p style=\"text-align:right\">$2</p>"],[/(\[align="center"\])(.*)(\[\/align\])/g,"<span style=\"text-align:center\">$2</span>"],[/(\[align="justify"\])(.*)(\[\/align\])/g,"<p style=\"text-align:justify\">$2</p>"],[/(\[left\])(.*)(\[\/left\])/g,"<span style=\"text-align:left\">$2</span>"],[/(\[right\])(.*)(\[\/right\])/g,"<span style=\"text-align:right\">$2</span>"],[/(\[center\])(.*)(\[\/center\])/g,"<span style=\"text-align:center\">$2</span>"],[/(\[justify\])(.*)(\[\/justify\])/g,"<span style=\"text-align:justify\">$2</span>"],[/(\[img\])(.*)(\[\/img\])/g,"<img src=\"$2\"/>"],[/(\[img\sw=([0-9]+)\sh=([0-9]+)\])(.*)(\[\/img\])/g,"<img style=\"width: $2px; height: $3px;\" src=\"$4\"/>"],[/(\[img\swidth=([0-9]+)\sheight=([0-9]+)\])(.*)(\[\/img\])/g,"<img style=\"width: $2px; height: $3px;\" src=\"$4\"/>"],[/(\[list\])([\s\S]*?)(\[\/list\])/g,"<ul>$2</ul>"],[/(\[list=1\])([\s\S]*?)(\[\/list\])/g,"<ol>$2</ol>"],[/(\[list=a\])([\s\S]*?)(\[\/list\])/g,"<ol style=\"list-style: lower-alpha;\">$2</ol>"],[/(\[list=A\])([\s\S]*?)(\[\/list\])/g,"<ol style=\"list-style: upper-alpha;\">$2</ol>"],[/(\[\*\])(.*)/g,"<li>$2</li>"],[/(\[color=(#[a-fA-F0-9]{6})\])(.*)(\[\/color\])/g,"<span style=\"color: $2;\">$3</span>"],[/(\[color=(#[a-fA-F0-9]{3})\])(.*)(\[\/color\])/g,"<span style=\"color: $2;\">$3</span>"],[/(\[q="([a-zA-Z0-9]*)"\])(.*)(\[\/q\])/g,"<div class=\"card\"><div class=\"card-body\"><h6 class=\"card-title\">$2 dijo:</h6><p class=\"card-text\"><p class=\"card-text\">\"$3\"</p></div></div>"],[/(\[q\])(.*)(\[\/q\])/g,"<div class=\"card\"><div class=\"card-body\">\"$2\"</p></div></div>"],[/(\[url=([a-zA-Z0-9\-._~:\/\?#\[\]@!$&'()*+,;%=]+)\])(.*)(\[\/url\])/g,"<a href=\"$2\">$3</a>"],[/(\[url\])([a-zA-Z0-9\-._~:\/\?#\[\]@!$&'()*+,;%=]+)(\[\/url\])/g,"<a href=\"$2\">$2</a>"],[/(\[nl\])|(\[NL\])/g,"<br>"]];var b=document.querySelector(a).innerHTML;for(var c in reg_exp_list)b=b.replace(reg_exp_list[c][0],reg_exp_list[c][1]);document.querySelector(a).innerHTML=b}function createBBCodeEditor(){var a=["<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(0)\" ><i class=\"fa fa-bold\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(1)\"><i class=\"fas fa-underline\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(2)\"><i class=\"fas fa-italic\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(3)\"><i class=\"fas fa-strikethrough\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(4)\"><i class=\"fas fa-text-height\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(5)\"><i class=\"fas fa-align-left\"><!--Align: Left--></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(6)\"><i class=\"fas fa-align-right\"><!--Align: Right--></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(7)\"><i class=\"fas fa-align-center\"><!--Align: Center--></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(8)\"><i class=\"fas fa-align-justify\"><!--Align: Justify--></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(9)\"><i class=\"fas fa-link\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(10)\"><i class=\"fas fa-image\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(11)\"><i class=\"fas fa-list-ul\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(12)\"><i class=\"fas fa-list-ol\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(14)\"><i class=\"fas fa-quote-right\"></i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(15)\"><i class=\"fas fa-level-down-alt\"></i></button>"],b=["<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(0)\" ><b>b</b></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(1)\"><u>u</u></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(2)\"><i>i</i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(3)\"><s>s</s></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(4)\">Size</button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(5)\">Align: Left</i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(6)\">Align: Right</i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(7)\">Align: Center</i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(8)\">Align: Justify</i></button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(9)\">Link</button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(10)\">Image</button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(11)\">Unordered List</button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(12)\">Ordered List</button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(14)\">Quote</button>","<button type=\"button\" class="+button_class+" onclick=\"insertBBCode(15)\">New Line</button>"],c=document.querySelector(buttons_target).innerHTML;if(buttons_fa)for(var d in a)c+=a[d];else for(var d in b)c+=b[d];document.querySelector(buttons_target).innerHTML=c}function insertBBCode(a){var b=[["[b]","[/b]"],["[u]","[/u]"],["[i]","[/i]"],["[s]","[/s]"],["[size=12]","[/size]"],["[align=\"left\"]","[/align]"],["[align=\"right\"]","[/align]"],["[align=\"center\"]","[/align]"],["[align=\"justify\"]","[/align]"],["[url=http://www.yoururl.com]Site Name","[/url]"],["[img]Image URL","[/img]"],["[list]\n[*] ","\n[/list]"],["[list=1]\n[*] ","\n[/list]"],["[color=#000000]Nombre del sitio","[/color]"],["[q]","[/q]"],["[nl]"]],c=document.querySelector(text_source).selectionStart,d=document.querySelector(text_source).selectionEnd,e=document.querySelector(text_source).value;document.querySelector(text_source).value=void 0===b[a][1]?c===d?e.slice(0,c)+b[a][0]+e.slice(d,e.length):e.slice(0,c)+e.slice(c,d)+b[a][0]+e.slice(d,e.length):c===d?e.slice(0,c)+b[a][0]+b[a][1]+e.slice(d,e.length):e.slice(0,c)+b[a][0]+e.slice(c,d)+b[a][1]+e.slice(d,e.length),document.querySelector(text_target).style.display="none",document.querySelector(text_target).innerHTML=document.querySelector(text_source).value,replaceTags(text_target),document.querySelector(text_target).style.display="inherit",document.querySelector(text_source).selectionEnd=d+b[a][0].length,document.querySelector(text_source).focus()}
